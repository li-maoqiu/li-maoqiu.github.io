---
layout: default
---
<title>{% if page.BiaoTi %}{{ page.BiaoTi }} - {{ page.ShuMing }}{% else %}{{ site.title }}{% endif %}</title>

<script src="/i/5/mq-wzjm.js"></script>

<style>
.内容1{font-size:var(--psz)}h1{font-size:calc(var(--psz)*1.3)}/*文字大小*/
body{background-color:var(--ps0)}/*外背景色*/
.内容1,#设置,#弹窗,#dw_hd,#dwd,#dwc,.dw_tk{background-color:var(--ps1)}/*内背景色*/
body,td,.js,blockquote,#弹窗,#dw_hd{color:var(--ps2)}/*正文字色*/
a,.chaolianjie,#dw_hd a{color:var(--ps3)}/*超链接*/
a:hover,.chaolianjie:hover,#dw_hd a:hover{color:var(--ps4)}/*超链接点击*/
td,blockquote{background-color:var(--ps5)}/*小菜单背景*/
td.tubiao:hover{background-color:var(--ps6)}/*小菜单背景点击*/
td,blockquote,blockquote a,blockquote a:hover{color:var(--ps7)}/*小菜单文字*/

#正文{line-height:2;}
.内容1,#右侧,.底部,#设置{box-shadow:2px 2px 8px #00000030}
.内容1{position:relative;width:60%;margin:0 auto;padding:30px 60px}
.导航{font-size:.9em}
h1{margin:0}
#右侧{position:fixed;right:13%;bottom:0;z-index:901}
.tubiao{cursor:pointer}
.底部{position:relative;width:60%;margin:0 auto;z-index:900}
.底部 td{width:30%;text-align:center;padding:20px}
footer{position:relative;top:300px;z-index:-1001}
footer img{position:relative;bottom:50px;display:block;margin:0 auto}
#设置{display:none;position: fixed;bottom:10%;right:18%;width:30%;height:60%;z-index:1000;padding:0 30px}
#关闭设置{display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:999;cursor:pointer}
#设置x{position:absolute;width:25px;height:25px;border-radius:5px;background:red;color:#fff;right:20px;top:20px;text-align:center;cursor:pointer}
#设置x:hover{background-color:#ff5858}
.chaolianjie{cursor:pointer}

@media screen and (max-width:767px){
.内容1{padding:20px 12px 0;width:95%}
#书名,.导航{padding:3px 12px}
#右侧{right:3%;transition:opacity 0.5s ease;opacity:1}
#设置{padding:5px;width:90%;height:80%;right:5%}
.底部{width:90%}
}
</style>

</head><body>

<style id="配色"></style>

<br><br><br>
<div class="内容1">
    <div class="导航"><a href="/">{{ site.title }}</a> &nbsp;/ &nbsp;<a href="/{% if page.MuLu %}{{ page.MuLu }}{% else %}{% endif %}">{% if page.ShuMing %}{{ page.ShuMing }}{% endif %}</a></div>
    <h1 class="tubiao" id="书名">{% if page.BiaoTi %}{{ page.BiaoTi }}{% endif %}</h1>
    <small>{% if page.ZuoZhe %}作者: {{ page.ZuoZhe }}{% endif %}{% if page.ZuoZhe and page.ShiJian %}　{% endif %}{% if page.ShiJian %}时间: {{ page.ShiJian }}{% endif %}{% if page.QiTa %}{{ page.QiTa }}{% endif %}</small>
    <hr class="hr4">
    {% if page.JiaZai %}{{ page.JiaZai }}{% endif %}
    <div id="正文">加载中...</div>
    {% if page.JiaZai2 %}{{ page.JiaZai2 }}{% endif %}
    <a name="底部"></a>
<br><br><br><br><br>
</div>

<table class="底部" style="top:-20px;"><tr><td class="tubiao{% if page.Q %} chaolianjie" onclick="window.location.href='/w/{{ page.Q }}'">{% else %}">{% endif %}上一章</td><td class="tubiao{% if page.MuLu %} chaolianjie" onclick="window.location.href='/{{ page.MuLu }}'">{% else %}">{% endif %}目录</td><td class="tubiao{% if page.E %} chaolianjie" onclick="window.location.href='/w/{{ page.E }}'">{% else %}">{% endif %}下一章</td></tr></table>
<div id="右侧"><table><tr><td class="tubiao" onclick="window.scrollTo(0,0);">TOP</td></tr><tr><td class="tubiao" onclick="打开设置()">设置</td></tr><tr><td class="tubiao" onclick="window.open('{{ site.mq }}/donate','_blank');">打赏</td></tr><tr>
    {% if page.PingLun %}<td class="tubiao" onclick="window.location.href='#评论'">评论</td>
    {% else %}<td class="tubiao" onclick="window.open('{{ site.mq }}/liuyan','_blank');">留言</td>{% endif %}
</tr></table></div>

<div id="设置">
    <div id="设置x" onclick="关闭设置();">X</div>
    <h2>设置</h2>
    <div id="设置打印"></div>
    <br>
    <table><tr><td><b>字体大小：</b></td><td class="tubiao" onclick="设置大小('减')" style="font-size:.9em;">减-</td><td onclick="设置大小('默认')" class="tubiao">恢复默认</td><td onclick="设置大小('加')" class="tubiao" style="font-size:1.1em;">加+</td></tr></table>
    <br>
    <table><tr><td><b>密码：</b><small>(同目录的加密章节自动解锁)</small></td></tr>
        <tr><td><input type='text' id="输入密码" placeholder='输入密码' autocomplete='off'><button onclick="确定密码()">确定</button></td></tr></table>
</div>
<div id="关闭设置" onclick="关闭设置();"></div>

<script>
    let 书名="{% if page.ShuMing %}{{ page.ShuMing }}{% else %}无{% endif %}";
    let wzjm_输入="{{ content }}";
    let wzjm_密码="ix";
    {% if page.MiMa %}if(localStorage.getItem(书名+"_密码")){wzjm_密码=localStorage.getItem(书名+"_密码");}{% else %}{% endif %}
    try{wzjm_解密();}catch(e){}
    let 正文="本页无内容。";if(wzjm_输入.indexOf("。")!=-1||wzjm_输入.indexOf("<")!=-1||wzjm_输入.indexOf(" ")!=-1||wzjm_输入.indexOf("　")!=-1){正文=wzjm_输入;}
    else{document.getElementById("书名").innerHTML=encodeURI(document.getElementById("书名").innerHTML).replace(new RegExp('%',"g"),"");document.title=document.getElementById("书名").innerHTML}

    function 保存代码(a,b){
        let 临时=localStorage.getItem(书名+"_代码");
        if(临时){localStorage.setItem(书名+"_代码",临时+"／"+a)}
        else{localStorage.setItem(书名+"_代码",a)}
        localStorage.setItem(书名+"_代码"+a,b)
    }
    function 删除代码(o){
        let 临时=localStorage.getItem(书名+"_代码");
        if(临时){
            临时=临时.split("／");
            if(临时.indexOf(o)!=-1){
                临时=临时.filter(item=>item!==o);
                localStorage.removeItem(书名+"_代码"+o);
                if(临时.length>0){
                    localStorage.setItem(书名+"_代码",临时.join("／"))
                }else{
                    localStorage.removeItem(书名+"_代码");
                }
            }
        }
    }

    let e2替换表={},变量表={},e2执行=[];

    正文=正文.replace(new RegExp('\n',"g"),"").split("〈");
    dy=正文[0];
    for(let i=1;正文.length>i;i++){
        正文[i]=正文[i].split("〉");
        let 临时=正文[i][0];

        if(临时.indexOf("|")!=-1){
            临时=临时.split("|");

            if(临时[0]=="替换"){
                for(let i2=1;临时.length>i2;i2+=2){e2替换表[临时[i2]]=临时[i2+1]}
            }else if(临时[0]=="zk"){
                if(!临时[3]){临时[3]=临时[2];}
                dy+="<a class='js chaolianjie' onclick=\"dw(dwb='"+临时[1]+"',dwd='"+临时[3]+"')\">"+临时[2]+"</a>";
            }else if(临时[0]=="?"){
                dy+="<sup id='wh"+i+"'><a onclick=\"document.getElementById('wh"+i+"').innerHTML='("+临时[1]+")';\">[?]</a></sup>";
            }else if(临时[0]=="变量"){
                let 临时2=书名+"_"+临时[1];
                let 临时3=localStorage.getItem(临时2);
                if(!临时3){临时3=0;}
                if(临时[2]=="!"){
                    localStorage.removeItem(临时2);
                }else if(临时[2]=="显示"){
                    dy+=临时3;
                }else{
                    if(临时[2]=="="){临时3=临时[3];
                    }else{if(临时[2]=="+"){临时3+=临时[3]}else{临时3-=临时[3]}}
                    localStorage.setItem(临时2,临时3);
                }

            }else if(临时[0]=="判断"){
                let 临时2=localStorage.getItem(书名+"_"+临时[1]);
                if(临时[2]=="="&&临时2==临时[3]||临时[2]==">"&&临时2>临时[3]||临时[2]=="<"&&临时2<临时[3]||临时[2]=="!"&&!临时2||临时[2]=="+"&&临时2){
                    if(临时[4]=="显示"){dy+=临时[5]
                    }else if(临时[4]=="执行"){e2执行[e2执行.length]=临时[5]}
                }
            }else if(临时[0]=="保存代码"){
                保存代码(临时[1],临时[2])
            }else if(临时[0]=="删除代码"){
                删除代码(临时[1])
            // }else if(临时[0]==""){
            }else if(临时[0]=="js"){
                eval(临时[1]);
            }else{
                dy+="<a class='js' onmouseout=\"dmx()\" onmousemove=\"dm(dmm='"+临时[1]+"',dmd='"+临时[0]+"')\">"+临时[0]+"</a>";
            }

        }else{
            if(e2替换表[临时]){
                dy+="<a class='js' onmouseout=\"dmx()\" onmousemove=\"dm(dmm='"+e2替换表[临时]+"',dmd='"+临时.split("_")[0]+"')\">"+临时.split("_")[0]+"</a>";
            }else{
                dy+="<a class='js' onmouseout=\"dmx()\" onmousemove=\"dm(dmm='',dmd='"+临时.split("_")[0]+"')\">"+临时.split("_")[0]+"</a>";
            }
        }
        dy+=正文[i][1];
    }

    document.getElementById("正文").innerHTML=dy;

    if(e2执行.length>0){
        for(let i=0;e2执行.length>i;i++){
            eval(e2执行[i]);
        }
    }

    let 执行代码=localStorage.getItem(书名+"_代码");
    if(执行代码){
        执行代码=执行代码.split("／");
        for(let i=0;执行代码.length>i;i++){
            if(执行代码[i]!=""){
                eval(localStorage.getItem(书名+"_代码"+执行代码[i]))
            }
        }
    }


    let 方案列表=["淡绿色","淡蓝色","灰色","牛皮纸","夜间",];
    let 配色={
        "淡绿色":["#CDDFCD","#E5F1E5","#616361","#006699","#0085A1","#F5F5F5","#AAAAAA","#616361"],
        "淡蓝色":["#CFDDE1","#E3F0F4","#262626","#006699","#0085A1","#F5F5F5","#AAAAAA","#262626"],
        "淡粉色":["#EBCECE","#F5E4E4","#262626","#CF3336","#ED4259","#F5F5F5","#AAAAAA","#262626"],
        "灰色":["#D3D3D3","#DCDCDC","#262626","#006699","#0085A1","#F5F5F5","#AAAAAA","#262626"],
        "牛皮纸":["#DCCB9C","#F3E9C7","#262626","#CF3336","#ED4259","#F5F5F5","#AAAAAA","#262626"],
        "夜间":["#0F1112","#17191A","#666666","#BFBFBF","#8C8C8C","#161819","#0F1112","#666666"],
    };

    function 改配色(){
        let 配色方案=localStorage.getItem("e1配色")||"淡绿色";
        if(配色方案=="自定义"){配色["自定义"]=localStorage.getItem("e1自定义").split("／");}

        let dyy=":root{--psz:"+(localStorage.getItem("e1文字大小")||1.2)+"em;";
        for(let i=0;配色[配色方案].length>i;i++){
            dyy+="--ps"+i+":"+配色[配色方案][i]+";";
        }
        dyy+="}";
        document.getElementById("配色").innerHTML=dyy;
    }
    改配色();

    let 设置dy=0;
    function 打开设置(){
        if(设置dy==0){
            设置dy="<table><tr>";
            设置dy+="<td><b>配色：</b></td></tr><tr>";
            for(let i=0;方案列表.length>i;i++){
                if(方案列表[i]=="br"){设置dy+="</tr><tr>";}else{
                设置dy+="<td class='tubiao' onclick=\"设置配色('"+方案列表[i]+"')\" style='background-color:"+配色[方案列表[i]][1]+";color:"+配色[方案列表[i]][2]+"'>"+方案列表[i]+"</td>";
            }
            }
            设置dy+="</tr></table><a href='/配色方案#内容' target='_blank'>更多配色</a>";
            document.getElementById("设置打印").innerHTML=设置dy;
            设置dy=1;
        }
        document.getElementById('设置').style.display="inline-block";document.getElementById('关闭设置').style.display="inline-block"}
    function 关闭设置(){document.getElementById('设置').style.display="none";document.getElementById('关闭设置').style.display="none"}

    function 设置配色(o){localStorage.setItem("e1配色",o);改配色()}
    function 设置大小(o){
        let 临时=localStorage.getItem("e1文字大小")||1.2;
        if(o=="加"){临时=临时*1+0.1}else if(o=="减"){临时=临时*1-0.1}else{临时=1.2}
        localStorage.setItem("e1文字大小",临时);
        改配色();
    }

    function 确定密码(){
        let 临时=document.getElementById("输入密码").value;
        localStorage.setItem(书名+"_密码",临时);
        location.reload();
    }

    document.addEventListener('contextmenu',function(e){e.preventDefault();window.location.href='#底部';})

    const elem=document.getElementById('右侧');
    let lastScrollTop=0;
    let scrollDistance=0;

    function handleScroll(){
    const windowWidth=window.innerWidth;
    if(windowWidth<767){
        const scrollTop=window.pageYOffset;
        const scrollDiff=scrollTop-lastScrollTop;
        scrollDistance+=Math.abs(scrollDiff);
        if(scrollDistance>30){
        if(scrollDiff>0){
            elem.style.transform='translateY(-100%)';
            elem.style.opacity='0';
            elem.style.boxShadow='none';
        }else{
            elem.style.transform='translateY(0)';
            elem.style.opacity='1';
            elem.style.boxShadow='0 2px 10px rgba(0,0,0,0.1)';
        }
        scrollDistance=0;
        }
        lastScrollTop=scrollTop<=0?0:scrollTop;
    }
    }
    window.addEventListener('scroll',handleScroll);
</script>

{% if page.JiaZai3 %}{{ page.JiaZai3 }}{% endif %}

<br><br><br>
{% if page.PingLun %}<div class="内容1"><a name="评论"></a>{% include Valine.html %}</div>{% endif %}

<footer><a href="/about"><img class="tubiao" src="/img/footer.png" alt="关于我" title="关于我" width=120px/></a></footer>

{% if page.PingLun %}{% include Valine2.html %}{% endif %}

</body>